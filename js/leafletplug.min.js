window.T={},T.Layer=L.Class.extend({includes:L.Mixin.Events,initialize:function(t){this._transitLayer=t},onAdd:function(t){this._transitLayer.init(t._panes.overlayPane),this._map=t,t._transitLayerwrap=this,this._updateViewPort(t),t.on("moveend",this._setMoveEnd),t.on("movestart",this._setMoveStart),t.on("zoomstart",this._setZoomStart),this._transitLayer.start()},_updateViewPort:function(t){var e=L.DomUtil.getPosition(t._mapPane),o=e.multiplyBy(-1),a=o.add(t.getSize()),r=a.x-o.x,i=a.y-o.y,n=t.getBounds();console.log("SW"),console.log(t.project(n.getSouthWest())),console.log("NE"),console.log(t.project(n.getNorthEast())),t._transitLayerwrap._transitLayer._updateRaphaelViewport(o.x,o.y,r,i,t.getZoom(),t.getPixelOrigin(),t.project(n.getSouthWest()),t.project(n.getNorthEast()))},_setMoveEnd:function(){this._transitLayerwrap._updateViewPort(this),this._transitLayerwrap._transitLayer._onMoveEnd()},_setMoveStart:function(){this._transitLayerwrap._transitLayer._onMoveStart()},_setZoomStart:function(){this._transitLayerwrap._transitLayer._onZoomStart()},onRemove:function(){this._transitLayerwrap._transitLayer.onRemove()}});